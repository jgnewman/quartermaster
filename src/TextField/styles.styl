@import "../lib/sharedStyles"

.qmCharLimitContainer
  @extend $absFill

  text-align: right
  overflow: hidden

.qmCharLimitText
  color: BASE_FONT_LIGHTER
  font-size: 85%

  position: absolute
  right: HALF_REM
  bottom: HALF_REM

  &.isField
    bottom: 50%
    transform: translateY(50%)

.qmCharLimitCount.hasError
  font-weight: bold
  color: ERROR

.qmCharLimitCount.reachedMin
  font-weight: bold
  color: GREEN

.qmCharLimitBar
  size(100%, 5px)
  borders(0, 0 0 QUARTER_REM QUARTER_REM)

  position: absolute
  left: 0
  bottom: 0

  display: block
  background: BLACK_FADE_FLY
  overflow: hidden

  &.isCompact
    size(100%, 3px)

.qmCharLimitBarFill
  size(0, 100%)

  display: block
  position: absolute
  left: 0
  top: 0

  transition: BASE_TRANSITION

  &.empty
    background: transparent

  &.worst
    background: RED

  &.worse
    background: ORANGE

  &.decent
    background: YELLOW

  &.better
    background: YELLOW_GREEN

  &.best
    background: GREEN

  &.error
    background: RED

.qmTextFieldContainer
  position: relative

.qmTextFieldInputWrapper
  display: block
  position: relative
  background: BASE_BG
  border-radius: QUARTER_REM

  &.isDisable .qmCharLimitContainer
    opacity: 0.25

.qmTextFieldError
  display: block
  position: absolute
  left: 0
  top: 100%
  width: 100%

  color: ERROR
  font-size: 75%
  padding: QUARTER_REM 0 THIRD_REM

$commonFieldProps
  borders(BASE_BORDER, QUARTER_REM)

  position: relative
  z-index: 2

  display: block
  margin: 0

  color: BASE_FONT
  background: transparent
  line-height: 1

  width: 100%
  outline: solid transparent !important

  box-shadow: BLANK_OUTLINE
  transition: BASE_TRANSITION

  &::placeholder
    color: BASE_PLACEHOLDER

  &.isFocused
    box-shadow: BASE_OUTLINE
    border-color: HIGHLIGHTS

  &.hasError
    box-shadow: ERR_OUTLINE
    border-color: ERROR

  &.isDisabled::placeholder
    color: BASE_FONT_DISABLED

.qmTextFieldInput.isTextArea
  @extend $commonFieldProps

  height: LARGER_ELEM_HEIGHT * 3
  padding: TWO_THIRD_REM THREE_QUARTER_REM
  resize: auto

  &.isCompact
    height: SMALLER_ELEM_HEIGHT * 3

  &.hasCharLimit
    padding-bottom: add(REM, THREE_QUARTER_REM)

  &.noResize
    resize: none

.qmTextFieldInput.isField
  @extend $commonFieldProps

  padding: times(0.1, REM) THREE_QUARTER_REM
  height: LARGER_ELEM_HEIGHT

  &.isCompact
    height: SMALLER_ELEM_HEIGHT

